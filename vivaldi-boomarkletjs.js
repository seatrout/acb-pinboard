javascript:(function(){var e=false;var r=null;var t=true;var n={javascript:["javascript","nerd"],js:["javascript","nerd"],python:["python","nerd"],android:["android","nerd"],"Pope|Cardinal|Francis|Vatican":["Press_Column","Catholic","Schism"],"Bishop|Archbishop|Church|Vicar":["Press_Column","Christianity"],Trump:["Politics","USA"],Fatwa:["Islam","Race/Immigrants"],Muslim:["Race/Immigrants","Islam"],Islam:["Islam","religion"],"Online|youtube|twitter|facebook|troll":["culture_of_online_life"],"dn.se|expressen|svd.se":["Sweden","Swedish"],github:"techie",youtube:["video","journalism"],vimeo:"video",video:"video",books:"book",book:"book"};var o={"github.com":".entry-title .js-current-repository"};var i={"www.kickstarter.com":".short-blurb"};var a=1e3;var c=function(e){return e.toLowerCase()};var u=function(e){return e?e.textContent.trim().replace(/\s+/g," "):null};var l=c(document.title);var s=function(e){if(e){return l.indexOf(c(e))!==-1}else{return false}};var m=function(e,r,t){t=t||window;var n=e.length;var o;for(var i=0;i<n;++i){o=r.call(t,e[i]);if(o!==null){return o}}return null};var f=function(){var e=location.href;var r=location.hostname;var t;if(r in o){t=document.querySelector(o[r]);if(t){return u(t)}}var n=document.title;t=document.querySelector("meta[property='og:title']");if(t){n=t.content.trim().replace(/\s+/g," ")}if(m(document.getElementsByClassName("hentry"),function(){return true})){var i=document.querySelector(".hentry .entry-title");if(i){return u(i)}}var a=m(document.getElementsByTagName("A"),function(r){if(r.href===e){a=u(r);if(s(a)){return a}}return null});if(a){return a}var c=["h1","h2","h3","h4","h5","h6"];var l;for(var f=0;f<c.length;++f){m(document.getElementsByTagName(c[f]),function(e){var r=u(e);if(s(r)&&(!l||r.length>l.length)){l=r}return null})}if(l){return l}return n};var v=function(e){e=c(e);var r=[];var t;for(var o in n){t=o instanceof RegExp?o:new RegExp("\\b"+o+"\\b","i");if(t.test(e)){r.push(n[o])}}return r};var d=function(){var e;e=document.querySelector("meta[name='description']");if(e){return e.content.trim().replace(/\s+/g," ")}e=document.querySelector("meta[property='og:description']");if(e){return e.content.trim().replace(/\s+/g," ")}return""};var h=function(){var e;if(""!==(e=String(document.getSelection()))){if(t){e=e.trim().split("\n").map(function(e){return"<blockquote>"+e+"</blockquote>"}).join("\n");e=e.replace("<blockquote></blockquote>","")}}var r=location.hostname;var n;if(r in i){n=document.querySelector(i[r]);if(n){return u(n)}}if(!e){e=d()}return e};var p=location.href;var g=f();var b=h();var y=b.indexOf(g);if(y===0){b=b.substring(g.length).trim()}else if(y===b.length-g.length){b=b.substring(0,y).trim()}var C=v(document.title+" "+b+" "+d());if(a>0){g=g.substring(0,a);b=b.substring(0,a)}var w=["url=",encodeURIComponent(p),"&title=",encodeURIComponent(g),"&description=",encodeURIComponent(b),"&tags=",encodeURIComponent(C.join(" ")),"&toread=","no","&jump=","close"];if(e){w=w.concat(["&later=","yes","&jump=","close"])}if(r){w=w.concat(["&x-source=Safari","&x-success=",encodeURIComponent(location.href),"&x-cancel=",encodeURIComponent(location.href)]);window.location=r+w.join("")}else{var S=open("http://pinboard.in/add?"+w.join(""),"Pinboard","toolbar=no,width=610,height=350");if(C!==[]){S.blur()}}})();